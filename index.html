<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<style>
#main{
    height: 32rem;
}
indent{
    margin-right: 2rem;
}
#code_area{
    font-family: 'Roboto Mono', monospace;
}
</style>
<body>
    <div id="navbar" class="bg-teal-400 py-4 px-2">
        <button class="bg-teal-600 px-6 py-2 mx-2" onclick="new_file()">New</button>
        <button class="bg-teal-600 px-6 py-2 mx-2">Save</button>
        <button class="bg-teal-600 px-6 py-2 mx-2">Open</button>
        <button class="bg-teal-600 px-6 py-2 mx-2">Upload</button>
    </div>
    <div id="main" class="flex">
        <div name="code_area" contenteditable="true" class="h-full inline-block w-1/2 border-solid border-4 border-gray-600 m-2 overflow-y-auto" id="code_area" ></div>
        <div name="terminal_area" class="h-full inline-block w-1/2 border-solid border-4 border-teal-800 m-2 bg-teal-800 overflow-y-auto" id="teminal_area" ></div>
    </div>
    
</body>
<script>
    var textarea = document.getElementById('code_area')
    function new_file(){
        if(textarea.innerText.length != 0){
            if(confirm("New File?")){
                textarea.innerText = ""
            }
        } 
    }

    textarea.addEventListener("keydown", function(e){
        
        if(e.key == 'Tab'){
            e.preventDefault()
            console.log("Tab pressed")
            var doc =  textarea.ownerDocument.defaultView
            var sel = doc.getSelection();
            var range = sel.getRangeAt(0);

            var tabNode = document.createTextNode("\u00a0\u00a0\u00a0\u00a0");
            range.insertNode(tabNode);

            range.setStartAfter(tabNode);
            range.setEndAfter(tabNode); 
            sel.removeAllRanges();
            sel.addRange(range);

        }
    })
 /*   function keywords(){

    }

    textarea.addEventListener("keyup", keywords);
*/

</script>
</html>
